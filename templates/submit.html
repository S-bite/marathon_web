{%extends "layout.html"%}

{%block contents%}
<div class="container panel panel-default mt-5">
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    <div class=flashes>
        {% for category, message in messages %}
        <p class="{{ category }}">{{ message }}</p>
        {% endfor %}
    </div>
    {% endif %}
    {% endwith %}
    <h3>提出方法</h3>
    <hr>

    <div class="panel-body">

        {% if current_user.is_authenticated %}
        <p>プログラムを書き、問題に対する<b>出力を保存したファイル</b>を作成します</p>
        <p><b>出力を保存したファイル</b>を下のボタンでアップロードした後、提出ボタンを押してください</b></p>
        <form method="post" action="/submit" enctype="multipart/form-data">
            <div>
                <input type="file" name="file" accept="text/plain" />
                <input type="submit" value="送信" class="btn-blue">
            </div>
        </form>

        {%else%}
        <p>ファイルを提出するにはログインする必要があります</p>
        <p>右上のメニューからログインorユーザー登録を行ってください</p>
        {% endif %}
    </div>
</div>


{%endblock%}